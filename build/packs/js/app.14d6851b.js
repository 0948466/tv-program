(function(t){function e(e){for(var o,a,i=e[0],c=e[1],u=e[2],l=0,m=[];l<i.length;l++)a=i[l],s[a]&&m.push(s[a][0]),s[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var i=n[a];0!==s[i]&&(o=!1)}o&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},s={app:0},r=[];function i(t){return c.p+"packs/js/"+({AccountSettings:"AccountSettings",AccountSubscriptions:"AccountSubscriptions",ResetPassword:"ResetPassword",Restore:"Restore",SingIn:"SingIn",SingUp:"SingUp"}[t]||t)+"."+{AccountSettings:"20d8599c",AccountSubscriptions:"c56c7883",ResetPassword:"5f20de1e",Restore:"c460ad9c",SingIn:"5e583fd8",SingUp:"3c2dd79c"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={AccountSettings:1,AccountSubscriptions:1,ResetPassword:1,Restore:1,SingIn:1,SingUp:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="packs/css/"+({AccountSettings:"AccountSettings",AccountSubscriptions:"AccountSubscriptions",ResetPassword:"ResetPassword",Restore:"Restore",SingIn:"SingIn",SingUp:"SingUp"}[t]||t)+"."+{AccountSettings:"2b112683",AccountSubscriptions:"1c440927",ResetPassword:"f65dfaf2",Restore:"780460a7",SingIn:"f18f18cb",SingUp:"80b85b42"}[t]+".css",s=c.p+o,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var u=r[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===s))return e()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){u=m[i],l=u.getAttribute("data-href");if(l===o||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||s,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.request=o,delete a[t],d.parentNode.removeChild(d),n(r)},d.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){a[t]=0}));var o=s[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise(function(e,n){o=s[t]=[e,n]});e.push(o[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t),u=function(e){l.onerror=l.onload=null,clearTimeout(m);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,n[1](r)}s[t]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"083e":function(t,e,n){"use strict";var o=n("29c8"),a=n.n(o);a.a},"11ef":function(t,e,n){"use strict";var o=n("81a1"),a=n.n(o);a.a},2068:function(t,e,n){},"24e7":function(t,e,n){"use strict";var o=n("f06d"),a=n.n(o);a.a},"29c8":function(t,e,n){},"2c4e":function(t,e,n){"use strict";var o=n("975d"),a=n.n(o);a.a},"2e4b":function(t,e,n){"use strict";var o=n("4744"),a=n.n(o);a.a},"33db":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueRecaptcha",{ref:"recaptcha",staticClass:"recaptcha",attrs:{sitekey:"6LfnIJkUAAAAANhHtvztAzCSiukBNsZw4VqEb8-0"},on:{verify:function(e){return t.$emit("verify")}}})},a=[],s=n("e096"),r={name:"Recaptcha",components:{VueRecaptcha:s["a"]},props:{checkRecaptcha:{type:Boolean,default:!1}},watch:{checkRecaptcha:function(t){t&&console.log(123333)}}},i=r,c=n("2877"),u=Object(c["a"])(i,o,a,!1,null,"491a3482",null);e["a"]=u.exports},4744:function(t,e,n){},"4f6b":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var o="GET_CHANNELS",a="SAVE_CHANNELS"},"56d7":function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),a=n("8e5f"),s=n.n(a),r=n("1881"),i=n.n(r),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"left"}),n("div",{staticClass:"center"},[n("MainHeader"),n("router-view",{staticClass:"container"}),n("MainFooter")],1),t.isDesktop?n("Sidebar"):t._e()],1)},u=[],l=n("cebc"),m=n("2f62"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"main-header"},[t._m(0),n("router-link",{staticClass:"link-big",attrs:{to:{name:"home"}}},[t._v("\n    Веб-сервис\n    "),n("br"),t._v("\n    телепрограмма\n  ")]),t.isDesktop&&t.isHomePage?n("router-link",{staticClass:"btn-norm main-header__btn-sing-up",attrs:{to:{name:"sing-up"}}},[t._v("\n    Подписаться\n  ")]):t._e(),t.isMobile?n("Sandwich",{staticClass:"main-header__sandwich"}):t._e()],1)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{staticClass:"main-header__link-home border-right",attrs:{href:"http://1tvch.ru/",target:"_blank",rel:"noopener"}},[o("img",{staticClass:"main-header__logo",attrs:{src:n("c0b8"),alt:"1tvch"}})])}],p=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sandwich"},[t.open?[n("div",{staticClass:"sandwich__icon-close",on:{click:function(e){t.open=!t.open}}}),n("SandwichMenu",{on:{onLinkClick:t.onSideBarLinkClick}})]:n("div",{staticClass:"sandwich__icon-wrap",on:{click:function(e){t.open=!t.open}}},[n("div",{staticClass:"sandwich__icon"})])],2)}),h=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sandwich-menu"},[t.isAuthenticated?[n("h3",{staticClass:"title-h3 sandwich-menu__title"},[t._v("\n      "+t._s(t.user.attributes.email)+"\n    ")]),n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"account-subscriptions"}}},[t._v("\n      Выборка\n    ")]),n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"account-settings"}}},[t._v("\n      Настройки аккаунта\n    ")]),n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"sing-in"}}},[t._v("\n      Выйти\n    ")])]:[n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"home"}}},[t._v("\n      Телепрограмма\n    ")]),n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"sing-in"}}},[t._v("\n      Войти\n    ")]),n("router-link",{staticClass:"text-norm link sandwich-menu__link",attrs:{to:{name:"sing-up"}}},[t._v("\n      Зарегитрироваться\n    ")])]],2)},v=[],_={name:"SandwichMenu",computed:Object(l["a"])({},Object(m["b"])(["isAuthenticated","user"]))},g=_,w=(n("2c4e"),n("2877")),S=Object(w["a"])(g,b,v,!1,null,"c8480f0e",null),C=S.exports,k={name:"Sandwich",components:{SandwichMenu:C},data:function(){return{open:!1}},watch:{$route:function(){this.open=!1}},methods:{onSideBarLinkClick:function(){this.open=!1},onOverlayClick:function(t){t.preventDefault(),this.open=!1}}},O=k,x=(n("11ef"),Object(w["a"])(O,p,h,!1,null,"1ca12d39",null)),y=x.exports,A={name:"MainHeader",components:{Sandwich:y},computed:Object(l["a"])({},Object(m["b"])(["isMobile","isDesktop","isAuthenticated"]),{isHomePage:function(){return"home"===this.$route.name}})},T=A,E=(n("c7ae"),Object(w["a"])(T,d,f,!1,null,"362c92a3",null)),j=E.exports,D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},R=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"main-footer"},[n("div",{staticClass:"main-footer__item"},[n("p",{staticClass:"main-footer__text text-small"},[t._v("\n      Возникли трудности или\n      "),n("br"),t._v("\n      вопросы? Напишите нам.\n    ")]),n("a",{staticClass:"text-norm link",attrs:{href:"mailto:support@1tvch.ru"}},[t._v("support@1tvch.ru")])]),n("div",{staticClass:"main-footer__item"},[n("p",{staticClass:"main-footer__text text-small"},[t._v("\n      Основной сайт\n      "),n("br"),t._v("\n      ЗАО «Первый ТВЧ»\n    ")]),n("a",{staticClass:"text-norm link",attrs:{href:"http://1tvch.ru/",target:"_blank",rel:"noopener"}},[t._v("www.1tvch.ru")])]),n("div",{staticClass:"main-footer__item"},[n("p",{staticClass:"main-footer__text text-small"},[t._v("\n      © 2019 ЗАО «Первый ТВЧ»\n      "),n("br"),t._v("\n      Все права защищены. При копировании материалов\n      "),n("br"),t._v("\n      сайта ссылка на оригинал обязательна.\n    ")])])])}],I={name:"MainFooter"},H=I,P=(n("2e4b"),Object(w["a"])(H,D,R,!1,null,"e6a140d2",null)),$=P.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sidebar"},[n("div",{staticClass:"sidebar__inner",class:{"sidebar__inner_on-home":t.isHomePage}},[n("div",{staticClass:"sidebar__wrap"},[t.isHomePage?n("div",{staticClass:"sidebar__link-wrap"},[n("router-link",{staticClass:"btn-border-light",attrs:{to:{name:"account-subscriptions"}}},[t._v("\n          Личный кабинет\n        ")])],1):t._e(),t.isAuthenticated?n("div",{staticClass:"sidebar__menu"},[n("h3",{staticClass:"title-h3-light sidebar__title"},[t._v("\n          "+t._s(t.user.attributes.email)+"\n        ")]),n("router-link",{staticClass:"text-norm link-light sidebar__link",attrs:{to:{name:"account-subscriptions"}}},[t._v("\n          Выборка\n        ")]),n("router-link",{staticClass:"text-norm link-light sidebar__link",attrs:{to:{name:"account-settings"}}},[t._v("\n          Настройки аккаунта\n        ")]),n("router-link",{staticClass:"text-norm link-light sidebar__link",attrs:{to:{name:"sing-in"}}},[t._v("\n          Выйти\n        ")])],1):t._e()])])])},N=[],L={name:"Sidebar",computed:Object(l["a"])({},Object(m["b"])(["isAuthenticated","user"]),{isHomePage:function(){return"home"===this.$route.name}})},M=L,U=(n("24e7"),Object(w["a"])(M,W,N,!1,null,"85972764",null)),B=U.exports,z={name:"App",metaInfo:{title:"Веб-сервис Телепрограмма"},components:{Sidebar:B,MainHeader:j,MainFooter:$},computed:Object(l["a"])({},Object(m["b"])(["isMobile","isDesktop"])),beforeMount:function(){this.CHANGE_WINDOW_WIDTH(window.outerWidth)},mounted:function(){window.addEventListener("resize",this.onWindowResizeThrottler,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResizeThrottler)},methods:Object(l["a"])({},Object(m["c"])(["CHANGE_WINDOW_WIDTH"]),{onWindowResizeThrottler:function(){var t=this;this.resizeTimeout||(this.resizeTimeout=setTimeout(function(){t.resizeTimeout=null,t.onWindowResizeHandler()},200))},onWindowResizeHandler:function(){this.CHANGE_WINDOW_WIDTH(window.outerWidth)}})},F=z,G=(n("5c0b"),Object(w["a"])(F,c,u,!1,null,null,null)),q=G.exports,V=n("8c4f"),J=n("0a89"),X=n.n(J),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"home mb-section"},[n("div",{staticClass:"home__inner"},[n("h1",{staticClass:"title-h1 home__title"},[t._v("\n      Полная программа\n      передач всех каналов\n      ЗАО «Первый ТВЧ»\n    ")]),n("p",{staticClass:"text-norm home__text"},[t._v("\n      Заполните форму запроса программы\n      передач и получите её на email в течение\n      10 минут в удобном для вас формате.\n      "),n("br"),n("br"),t._v("\n      Кроме того, вы можете\n      "),n("router-link",{staticClass:"link",attrs:{to:{name:"sing-up"}}},[t._v("\n        зарегистрироваться\n      ")]),t._v("\n      в системе, чтобы получать телепрограмму\n      автоматически каждую неделю.\n    ")],1)]),n("div",{class:{"popup home__popup":t.isDesktop}},[n("Subscription",{staticClass:"col"})],1)])},Y=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{ref:"form",staticClass:"subscription",on:{submit:function(e){return e.preventDefault(),t.onFormSubmit(e)}}},[t._m(0),n("p",{staticClass:"text-small",class:{"opacity-0":!t.form["channel_id[]"].length}},[t._v("\n    Выбор каналов\n  ")]),n("multiselect",{attrs:{options:t.optionsChannels,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выбор каналов","deselect-label":"Удалить канал","select-label":"Добавить канал","selected-label":"Выбран",label:"name","track-by":"name","preselect-first":!0},scopedSlots:t._u([{key:"selection",fn:function(e){e.value,e.search;var o=e.isOpen;return[t.form["channel_id[]"].length&&!o?n("span",{staticClass:"multiselect__single"},[t._v(t._s(t.selectText))]):t._e()]}}]),model:{value:t.form["channel_id[]"],callback:function(e){t.$set(t.form,"channel_id[]",e)},expression:"form['channel_id[]']"}}),n("p",{staticClass:"text-small",class:{"opacity-0":!t.form["formats[]"].length}},[t._v("\n    Формат программы\n  ")]),n("multiselect",{attrs:{placeholder:"Формат программы","select-label":"Добавить формат",options:t.optionsFormats,searchable:!1,"close-on-select":!1,multiple:!0,"hide-selected":!0},model:{value:t.form["formats[]"],callback:function(e){t.$set(t.form,"formats[]",e)},expression:"form['formats[]']"}}),n("div",{staticClass:"subscription__time-wrap"},[n("div",{staticClass:"subscription__time-col"},[n("p",{staticClass:"text-small"},[t._v("\n        Дата начала\n      ")]),n("multiselect",{attrs:{options:t.optionsStart,"deselect-label":"-","select-label":"+","selected-label":"",placeholder:"Выбор даты"},on:{input:t.onFormStartInput},model:{value:t.form.start,callback:function(e){t.$set(t.form,"start",e)},expression:"form.start"}})],1),n("div",{staticClass:"subscription__time-col"},[n("p",{staticClass:"text-small"},[t._v("\n        Дата окончания\n      ")]),n("multiselect",{attrs:{options:t.optionsEnd,"deselect-label":"-","select-label":"+","selected-label":"",placeholder:"Выбор даты"},on:{input:t.onFormEndInput},model:{value:t.form.end,callback:function(e){t.$set(t.form,"end",e)},expression:"form.end"}})],1)]),n("p",{staticClass:"text-small",class:{"opacity-0":!t.form.email}},[t._v("\n    Ваш email\n  ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"input",attrs:{type:"email",placeholder:"Ваш email",autocomplete:"new-email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),n("Recaptcha",{on:{verify:t.onRecaptchaVerify}}),n("button",{staticClass:"btn-big",attrs:{type:"submit"}},[t._v("\n    Получить программу\n  ")])],1)},K=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"subscription__title title-h2"},[t._v("\n    Получите телепрограмму\n    "),n("br"),t._v("\n    на электронную почту\n  ")])}],tt=n("a4bb"),et=n.n(tt),nt=(n("ac6a"),n("db0c")),ot=n.n(nt),at=(n("6762"),n("2fdb"),n("28a5"),n("864e")),st=n("4f6b"),rt=n("33db"),it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"accepted"},[n("div",{staticClass:"icon-close",on:{click:function(e){return t.$emit("close")}}}),n("h2",{staticClass:"title-h2 accepted__title"},[t._v("\n    Принято в обработку\n  ")]),n("div",{staticClass:"p text-norm accepted__text"},[t._v("\n    В течение 10 минут на указанный email вы\n    получите письмо с приложенной программой\n    выбранных вами телеканалов.\n    Сейчас вы можете зарегистрироваться в\n    системе, чтобы получать телепрограмму\n    автоматически каждую неделю.\n  ")]),n("a",{staticClass:"accepted__btn btn-norm",attrs:{href:"/sing-up"},on:{click:function(e){return e.preventDefault(),t.onLinkToRegClick(e)}}},[t._v("\n    Регистрация\n  ")]),n("button",{staticClass:"btn-border accepted__btn-esc",on:{click:function(e){return t.$emit("close")}}},[t._v("\n    Нет, спасибо\n  ")])])},ct=[],ut={name:"Accepted",methods:{onLinkToRegClick:function(){var t=this;this.$emit("close"),setTimeout(function(){t.$router.push({name:"sing-up"})},0)}}},lt=ut,mt=(n("083e"),Object(w["a"])(lt,it,ct,!1,null,"468c8eb8",null)),dt=mt.exports,ft="SCHEDULES_REQUEST",pt={name:"Subscription",components:{Recaptcha:rt["a"]},data:function(){return{isLoading:!0,optionsFormats:["XLSX","JSON","XML"],optionsStart:[],optionsEnd:[],checkRecaptcha:!1,value:[],submitted:!1,reCaptcha:!1,form:{email:"","channel_id[]":"","formats[]":"",start:"",end:""}}},computed:Object(l["a"])({},Object(m["b"])(["channels"]),{selectText:function(){var t=this.form["channel_id[]"].length;return this.declOfNum(t,["Выбрано: ".concat(t," программа"),"Выбрано: ".concat(t," программы"),"Выбрано: ".concat(t," программ")])},optionsChannels:function(){return this.channels.length?this.channels.map(function(t){return t.attributes}):[]}}),beforeMount:function(){this.getChannel(),this.addOptionsTime()},methods:{showAccepted:function(){this.$modal.show(dt,{},{scrollable:!0,width:"570px",height:"auto"})},onFormStartInput:function(){this.formatDateReset(this.form.start)>this.formatDateReset(this.form.end)&&(this.form.end=this.form.start)},onFormEndInput:function(){this.formatDateReset(this.form.start)>this.formatDateReset(this.form.end)&&(this.form.start=this.form.end)},formatDateReset:function(t){var e=t.split(".");return new Date("".concat(e[1],".").concat(e[0],".").concat(e[2]))},formatDate:function(t){var e=t.getMonth()+1;e<10&&(e="0".concat(e));var n=t.getFullYear()%100;return n<10&&(n="0".concat(n)),"".concat(t.getDate(),".").concat(e,".").concat(n)},addOptionsTime:function(){var t=7,e=-7,n=14,o=new Date,a=new Date;a.setDate(a.getDate()+t),this.form.start=this.formatDate(o),this.form.end=this.formatDate(a);for(var s=e;s<=n;s+=1){var r=new Date;r.setDate(r.getDate()+s),this.optionsStart.push(this.formatDate(r))}for(var i=e;i<=n;i+=1){var c=new Date;c.setDate(c.getDate()+i),this.optionsEnd.push(this.formatDate(c))}},declOfNum:function(t,e){return e[t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]},onRecaptchaVerify:function(){this.reCaptcha=!0},formatDateToSend:function(t){var e=t.split(".");return e[2]="20".concat(e[2]),e.join(".")},onFormSubmit:function(){var t=this;if(this.reCaptcha)if(this.submitted=!0,ot()(this.form).includes(""))Object(at["a"])("Заполните все поля");else{var e=new FormData,n=this.form["channel_id[]"].map(function(t){return t.channel_id});e.append("email",this.form.email),e.append("start",this.formatDateToSend(this.form.start)),e.append("end",this.formatDateToSend(this.form.end)),e.append("formats[]",this.form["formats[]"]),e.append("channel_id[]",n),this.$store.dispatch(ft,e).then(function(){t.showAccepted(),et()(t.form).forEach(function(e){t.form[e]=""})})}else Object(at["d"])()},getChannel:function(){this.channels.length||this.$store.dispatch(st["a"])}}},ht=pt,bt=(n("60bc"),n("d18c"),Object(w["a"])(ht,Z,K,!1,null,"580c68f4",null)),vt=bt.exports,_t={name:"Home",metaInfo:{titleTemplate:"%s"},components:{Subscription:vt},computed:Object(l["a"])({},Object(m["b"])(["isMobile","isDesktop"]))},gt=_t,wt=(n("f4a1"),Object(w["a"])(gt,Q,Y,!1,null,"0589361e",null)),St=wt.exports;o["a"].use(V["a"]),o["a"].use(X.a);var Ct=function(t,e,n){return n||(t.hash?{selector:t.hash}:{x:0,y:0})},kt=new V["a"]({mode:"history",scrollBehavior:Ct,base:"/",routes:[{path:"/",name:"home",component:St,meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"/account/subscriptions",name:"account-subscriptions",component:function(){return n.e("AccountSubscriptions").then(n.bind(null,"cd23"))}},{path:"/account/settings",name:"account-settings",component:function(){return n.e("AccountSettings").then(n.bind(null,"f4a5"))}},{path:"/users/restore",name:"restore",component:function(){return n.e("Restore").then(n.bind(null,"7282"))},meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"/users/password/edit",name:"reset-password",component:function(){return n.e("ResetPassword").then(n.bind(null,"0813"))},meta:{public:!0,onlyWhenLoggedOut:!0},beforeEnter:function(t,e,n){t.query&&t.query.reset_password_token?n():n({name:"home"})}},{path:"/users/sing-in",name:"sing-in",component:function(){return n.e("SingIn").then(n.bind(null,"45bc"))},meta:{public:!0}},{path:"/users/sing-up",name:"sing-up",component:function(){return n.e("SingUp").then(n.bind(null,"18a5"))},meta:{public:!0,onlyWhenLoggedOut:!0}}]});kt.beforeEach(function(t,e,n){var o=t.matched.some(function(t){return t.meta.public}),a=t.matched.some(function(t){return t.meta.onlyWhenLoggedOut}),s=!!localStorage.getItem("token");return o||s?s&&a?n("/account/subscriptions"):void n():n({path:"/users/sing-in"})});var Ot,xt,yt=n("bd86"),At=n("f499"),Tt=n.n(At),Et=n("795b"),jt=n.n(Et),Dt=n("d017"),Rt=n("bc3a"),It=n.n(Rt),Ht="",Pt=function(t){var e=t.url,n=t.method,o=t.params,a=t.noToken,s={headers:{"Content-Type":"multipart/form-data"}},r=localStorage.getItem("token");return It.a.defaults.headers.common.Authorization=a||!r?"":r,It.a.interceptors.response.use(function(t){return t},function(t){if(!t.response)throw Object(at["b"])(),new Error(t);try{var e=t.response.data.errors[0]?t.response.data.errors[0].detail:t.response.data.errors.detail;Object(at["a"])(e)}catch(n){console.error(n)}}),It.a[n.toLowerCase()]("".concat(Ht).concat(e),o,s)},$t=Pt,Wt=n("82b2"),Nt=n.n(Wt),Lt={channels:"/api/v1/channels",sing_in:"/api/v1/users/sign_in",sign_out:"/api/v1/users/sign_out",sing_up:"/api/v1/users/sign_up",restore:"/api/v1/users/password/",change_password:"/api/v1/users",change_user_attributes:"/api/v1/users/",schedules:"/api/v1/schedules/schedules_request",terms:Nt.a},Mt="";try{Mt=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))||""}catch(le){localStorage.removeItem("user"),console.error(le)}var Ut={user:Mt,status:"",hasLoadedOnce:!1},Bt={isAuthenticated:function(t){return!!t.user},authStatus:function(t){return t.status},user:function(t){return t.user}},zt=(Ot={},Object(yt["a"])(Ot,Dt["c"],function(t,e){var n=t.commit;t.dispatch;return new jt.a(function(t,o){n(Dt["c"]),$t({url:Lt.sing_in,params:e,method:"POST",noToken:!0}).then(function(e){var o=e.headers.authorization;localStorage.setItem("token",o),localStorage.setItem("user",Tt()(e.data.data)),n(Dt["h"],e),t(e)}).catch(function(t){n(Dt["b"],t),localStorage.removeItem("token"),localStorage.removeItem("user"),o(t)})})}),Object(yt["a"])(Ot,Dt["g"],function(t,e){var n=t.commit;t.dispatch;return new jt.a(function(t,o){n(Dt["c"]),$t({url:Lt.sing_up,params:e,method:"POST"}).then(function(e){t(e)}).catch(function(t){n(Dt["b"],t),localStorage.removeItem("token"),localStorage.removeItem("user"),o(t)})})}),Object(yt["a"])(Ot,Dt["f"],function(t){var e=t.commit;t.dispatch;return new jt.a(function(t,n){e(Dt["c"]),$t({url:Lt.sign_out,method:"DELETE"}).then(function(){e(Dt["f"]),localStorage.removeItem("token"),localStorage.removeItem("user"),t()})})}),Object(yt["a"])(Ot,Dt["e"],function(t,e){var n=t.commit;t.dispatch;return new jt.a(function(t,o){$t({url:Lt.restore,params:e,method:"POST"}).then(function(e){t(e)}).catch(function(t){n(Dt["b"],t),o(t)})})}),Object(yt["a"])(Ot,Dt["a"],function(t,e){var n=t.commit;t.dispatch;return new jt.a(function(t,o){n(Dt["c"]),$t({url:Lt.change_password,params:e,method:"PATCH"}).then(function(e){t(e)}).catch(function(t){n(Dt["b"],t),o(t)})})}),Object(yt["a"])(Ot,Dt["i"],function(t,e){var n=t.commit,o=(t.dispatch,e.params),a=e.userId;return new jt.a(function(t,e){n(Dt["c"]),$t({url:"".concat(Lt.change_user_attributes).concat(a),params:o,method:"PATCH"}).then(function(e){localStorage.setItem("user",Tt()(e.data.data)),n(Dt["h"],e),t(e)}).catch(function(t){e(t)})})}),Object(yt["a"])(Ot,Dt["d"],function(t,e){var n=t.commit;t.dispatch;return new jt.a(function(t,o){n(Dt["c"]),$t({url:Lt.restore,params:e,method:"PATCH"}).then(function(e){localStorage.removeItem("token"),localStorage.removeItem("user"),n(Dt["f"]),t(e)}).catch(function(t){localStorage.removeItem("token"),localStorage.removeItem("user"),o(t)})})}),Ot),Ft=(xt={},Object(yt["a"])(xt,Dt["c"],function(t){t.status="loading"}),Object(yt["a"])(xt,Dt["h"],function(t,e){t.status="success",t.user=e.data.data,t.hasLoadedOnce=!0}),Object(yt["a"])(xt,Dt["b"],function(t){t.status="error",t.hasLoadedOnce=!0}),Object(yt["a"])(xt,Dt["f"],function(t){t.token="",t.user=""}),xt),Gt={state:Ut,getters:Bt,actions:zt,mutations:Ft},qt=(n("55dd"),{channels:[]}),Vt={channels:function(t){return t.channels}},Jt=Object(yt["a"])({},st["a"],function(t){var e=t.commit;t.dispatch;return new jt.a(function(t,n){$t({url:Lt.channels,method:"GET"}).then(function(n){e(st["b"],n),t(n)}).catch(function(t){n(t)})})}),Xt=Object(yt["a"])({},st["b"],function(t,e){e.data&&e.data.data&&e.data.data&&(t.channels=e.data.data.sort(function(t,e){var n=t.attributes.name[0].toLowerCase(),o=e.attributes.name[0].toLowerCase(),a=/^[а-яё]*$/i;return a.test(n)&&a.test(o)||!a.test(n)&&!a.test(o)?n<o?-1:1:a.test(n)&&!a.test(o)?-1:1}))}),Qt={state:qt,getters:Vt,actions:Jt,mutations:Xt},Yt=Object(yt["a"])({},ft,function(t,e){t.commit,t.dispatch;return new jt.a(function(t){$t({url:Lt.schedules,params:e,method:"POST"}).then(function(e){t(e)}).catch(function(t){t.response||(t.request?console.log(t.request):console.log("Error",t.message)),console.log(t.config)})})}),Zt={actions:Yt},Kt="CHANGE_WINDOW_WIDTH";o["a"].use(m["a"]);var te=!1,ee=new m["a"].Store({state:{windowWidth:null},getters:{windowWidth:function(t){return t.windowWidth},isMobile:function(t){return t.windowWidth<1100},isDesktop:function(t){return t.windowWidth>1099}},mutations:Object(yt["a"])({},Kt,function(t,e){t.windowWidth=e}),actions:{},modules:{auth:Gt,channels:Qt,schedules:Zt},strict:te}),ne=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=new Headers;o.append("Content-Type","application/json");var a="GET"!==e?Tt()(n):null;return fetch(t,{method:e,headers:o,body:a}).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){console.error(t)})},oe=n("9483");Object(oe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(t){console.log("New content is available; please refresh.");var e=t.waiting;e.postMessage({action:"skipWaiting"})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("5903");var ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader loader--style2"},[n("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 50 50","xml:space":"preserve"}},[n("path",{attrs:{fill:"#000",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"}},[n("animateTransform",{attrs:{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"}})],1)])])},se=[],re={name:"Loading",components:{},props:{},data:function(){return{}}},ie=re,ce=(n("eb35"),Object(w["a"])(ie,ae,se,!1,null,"67732a2c",null)),ue=ce.exports;o["a"].component("loading",ue),o["a"].use(i.a,{dynamic:!0,injectModalsContainer:!0}),o["a"].component("multiselect",s.a),o["a"].prototype.$http=ne,o["a"].prototype.$url=Lt,o["a"].config.productionTip=!1,new o["a"]({router:kt,store:ee,render:function(t){return t(q)}}).$mount("#app")},5903:function(t,e,n){},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(t,e,n){},"81a1":function(t,e,n){},"82b2":function(t,e,n){t.exports=n.p+"documents/пользовательское_соглашение.pdf"},"864e":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return u});var o=n("854a"),a=n.n(o);function s(t){a.a.remove(),a.a.options={positionClass:"toast-top-right",closeButton:!0},a.a.error(t)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.a.remove(),a.a.options={positionClass:"toast-top-right",closeButton:!0},a.a.success(e,t)}function i(){a.a.remove(),a.a.options={positionClass:"toast-top-right",closeButton:!0},a.a.error("Необходимо выполнить проверку reCAPTCHA")}function c(){a.a.remove(),a.a.options={positionClass:"toast-top-right",closeButton:!0},a.a.error("Пароли не совпадают")}function u(){a.a.remove(),a.a.options={positionClass:"toast-top-right",closeButton:!0},a.a.error("Проблемы на сервере. Пожалуйста, попробуйте позже.")}a.a.options.closeDuration=1e4},"975d":function(t,e,n){},ad4c:function(t,e,n){},bf31:function(t,e,n){},c0b8:function(t,e,n){t.exports=n.p+"packs/img/logo-1tvch.c493ba36.png"},c7ae:function(t,e,n){"use strict";var o=n("e7ee"),a=n.n(o);a.a},d017:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"i",function(){return i}),n.d(e,"h",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return m});var o="AUTH_REQUEST",a="AUTH_SING_UP",s="AUTH_RESTORE",r="AUTH_CHANGE_PASSWORD",i="CHANGE_USER_ATTRIBUTES",c="AUTH_SUCCESS",u="AUTH_ERROR",l="AUTH_SING_OUT",m="AUTH_RESET_PASSWORD"},d18c:function(t,e,n){"use strict";var o=n("2068"),a=n.n(o);a.a},e7ee:function(t,e,n){},eb35:function(t,e,n){"use strict";var o=n("ad4c"),a=n.n(o);a.a},f06d:function(t,e,n){},f4a1:function(t,e,n){"use strict";var o=n("bf31"),a=n.n(o);a.a}});
//# sourceMappingURL=app.14d6851b.js.map